function updateData(){$.ajax({type:"GET",url:"ajax/db-info.php",success:function(e){$("#content").html(e)}})}$(".default").show(),$(".form-group, .error, .result, #notcheck, #add_user, #edit_user, #del_user, .add_text, .edit_text, .del_text, .set_active_text, .set_not_active_text, .set_delete_text, .all_active, .all_not_active, .all_delete").hide(),$(".add").click((function(){$(".form-group, #add_user, .add_text").show(),$(".error, .result").hide(),$("#first_name").val(""),$("#last_name").val(""),$("#status").is((function(){$(this).val(0),0==$(this).val()?$(this).prop("checked",!1):$(this).prop("checked",!0)})),$("#role").val("null"),$("#add_user").is((function(){$(this).text("Save").attr("class","btn btn-success")})),$("#close").is((function(){$(this).text("Close").attr("class","btn btn-danger")})),console.log("click .add")})),$("#add_user").click((function(){const e=$("#first_name").val(),t=$("#last_name").val(),s=$("#status").val(),c=$("#role").val();$.ajax({url:"ajax/add_user.php",type:"POST",cache:!1,data:{first_name:e,last_name:t,status:s,role:c},dataType:"html",success:function(e){"OK"==e?($(this).show((function(){$(".result").show().text("You have successfully added a user.").attr("id","success")})),$(".error").hide(),updateData()):($(".result").hide(),$(".error").show((function(){$(this).text(e),console.log("error")})))}}),console.log("click #add_user")})),$(".edit").click((function(){const e=$(this).find(".hidden").val();$(".form-group, #edit_user, .edit_text").show(),$(".error, .result").hide(),$("#edit_user").is((function(){$(this).text("Save changes").attr("class","btn btn-success")})),$("#close").is((function(){$(this).text("No").attr("class","btn btn-danger")})),$.ajax({url:"ajax/get_user_info.php",type:"GET",cache:!1,data:{id:e},dataType:"json",success:function(t){$.getJSON("ajax/get_user_info.php?id="+e,(function(e){const t=e.first_name,s=e.last_name,c=e.status,a=e.role;$("#first_name").val(t),$("#last_name").val(s),$("#status").is((function(){$(this).val(c),0==c?$(this).prop("checked",!1):$(this).prop("checked",!0)})),$("#role").val(a)}))}}),console.log("click .edit id="+e)})),$("#edit_user").click((function(){const e=$("#first_name").val(),t=$("#last_name").val(),s=$("#status").val(),c=$("#role").val(),a=$("#exampleModalCenter").find(".hidden").val();$.ajax({url:"ajax/edit_user.php",type:"POST",cache:!1,data:{id:a,first_name:e,last_name:t,status:s,role:c},dataType:"html",success:function(e){"UPDATE"==e?($(this).show((function(){$(".result").show().text("You have successfully edited the user.").attr("id","success")})),$(".error").hide(),updateData()):($(".result").hide(),$(".error").show((function(){$(this).text(e),console.log("error")})))}}),console.log("click #edit_user id="+a)})),$(".del").click((function(){const e=$(this).find(".hidden").val();$("#del_user, .del_text").show(),$(".form-group, .error, .result").hide(),$("#del_user").is((function(){$(this).text("Delete").attr("class","btn btn-danger")})),$("#close").is((function(){$(this).text("No").attr("class","btn btn-success")})),console.log("click .del id="+e)})),$("#del_user").click((function(){const e=$("#exampleModalCenter").find(".hidden").val();$.ajax({url:"ajax/del_user.php",type:"POST",cache:!1,data:{id:e},dataType:"html",success:function(e){"DELETE"==e?($(this).show((function(){$(".result").show().text("You have successfully deleted the user.").attr("id","success")})),$(".error, .del_text").hide(),updateData()):($(".result").hide(),$(".error, #del_user, .del_text").show((function(){$(this).text(e),console.log("error")})))}}),console.log("click #del_user id="+e)})),$("#exampleModalCenter").on("show.bs.modal",(function(e){const t=$(e.relatedTarget),s=t.data("whatever"),c=t.data("id");$(this).find(".hidden").val(c),$("#close, .close").click((function(){$(".form-group, .error, .result, #notcheck, #add_user, #edit_user, #del_user, .add_text, .edit_text, .del_text, .set_active_text, .set_not_active_text, .set_delete_text, .all_active, .all_not_active, .all_delete").hide(),console.log("click #close")})),$(this).find(".modal-title").text(s)})),$("select.all").change((function(){$(this).on((function(){$(this).prop("selected",!0)}));const e=$(this).children("option:selected").val();console.log("selected "+e),$(".error").show((function(){$("#exampleModalCenter").find(".modal-title").text("Error"),$("#set_not_active, #set_active, #set_delete").hide(),console.log("error")})),0==$(this).val()?($(this).attr("selected","selected"),$(".default, #notcheck").show(),$(".all_not_active, .all_active, .all_delete, .del_text .error").hide(),$(".btn_ok").is((function(){$(this).attr("data-whatever","You have not selected any items")}))):1==$(this).val()?($(this).attr("selected","selected"),$(".all_active, #notcheck").show(),$(".all_not_active, .all_delete, .default").hide(),$(".btn_ok").is((function(){$(this).attr("data-whatever","You are going to set the status to active for the selected users")}))):2==$(this).val()?($(this).attr("selected","selected"),$(".all_not_active, #notcheck").show(),$(".all_delete, .all_active, .default").hide(),$(".btn_ok").is((function(){$(this).attr("data-whatever","You are going to set the status to not active for the selected users"),$(this).attr("id","set_not_active")}))):3==$(this).val()&&($(this).attr("selected","selected"),$(".all_delete, #notcheck").show(),$(".all_not_active, .all_active, .default").hide(),$(".btn_ok").is((function(){$(this).attr("data-whatever","You are about to delete selected users"),$(this).attr("disabled",!1)})))})),$(".checkbox_btn").click((function(){const e=[];$.each($(".check:checked"),(function(){e.push($(this).val())})),console.log(e.join("##"));e.join("##");$(".check:checked").change((function(){$(".error").show()})),$(".check").on("change",(function(){$(".check").prop("checked")?($("#notcheck").hide(),console.log("check")):($("#notcheck, .error").show(),console.log("notcheck"))}))})),$("#checkbox_all").click((function(){$(".check").not(this).prop("checked",this.checked)})),$(".check").change((function(){$(".check:checked").length==$(".check").length?$("#checkbox_all").prop("checked",!0):$("#checkbox_all").prop("checked",!1)})),$("#status").click((function(){this.checked?($(this).attr("value",1),$(".text").text("on")):($(this).attr("value",0),$(".text").text("off"))})),$(".checkbox_btn").click((function(){console.log("click .checkbox_btn"),$(".form-group, .add_text, .edit_text, .delete_text").hide(),$(".all_delete_text").show(),$("#add_user").is((function(){$(this).text("Yes"),$(this).attr("class","btn btn-success")}))})),$(".set_default").click((function(){$(".error").show()})),$(".set_active").click((function(){let e=[];$.each($(".check:checked"),(function(){e.push($(this).val())}));let t=e.join("##");console.log(t),console.log("click .set_active"),$.ajax({url:"ajax/set_active.php",type:"POST",cache:!1,data:{checkbox:t},dataType:"html",success:function(e){"ACTIVE"==e?($("#edit_user").show((function(){$(this).text("Ok. User edit").addClass("success").attr("id","success"),setInterval("refreshPage()",1e3)})),$(".error").hide(),updateData()):$(".error").show((function(){$(this).text(e),console.log("error")}))}})})),$(".set_not_active").click((function(){let e=[];$.each($(".check:checked"),(function(){e.push($(this).val())}));let t=e.join("##");console.log(t),console.log("click .set_not_active"),$.ajax({url:"ajax/set_not_active.php",type:"POST",cache:!1,data:{checkbox:t},dataType:"html",success:function(e){"NOTACTIVE"==e?($("#edit_user").show((function(){$(this).text("Ok. User edit").addClass("success").attr("id","success"),setInterval("refreshPage()",1e3)})),$(".error").hide(),updateData()):$(".error").show((function(){$(this).text(e),console.log("error")}))}})})),$(".set_delete").click((function(){let e=[];$.each($(".check:checked"),(function(){e.push($(this).val())}));let t=e.join("##");console.log(t),console.log("click .set_delete"),$.ajax({url:"ajax/set_delete.php",type:"POST",cache:!1,data:{checkbox:t},dataType:"html",success:function(e){"DELETES"==e?($("#edit_user").show((function(){$(this).text("Ok. User edit").addClass("success").attr("id","success")})),$(".error").hide(),updateData()):$(".error").show((function(){$(this).text(e),console.log("error")}))}})}));